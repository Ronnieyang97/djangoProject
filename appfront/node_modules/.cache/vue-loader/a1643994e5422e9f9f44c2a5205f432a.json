{"remainingRequest":"/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/vue-amap/src/lib/components/amap-search-box.vue?vue&type=template&id=3b8cd96a","dependencies":[{"path":"/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/vue-amap/src/lib/components/amap-search-box.vue","mtime":1562133187000},{"path":"/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0iZWwtdnVlLXNlYXJjaC1ib3gtY29udGFpbmVyIgogICAgICAgQGtleWRvd24udXA9InNlbGVjdFRpcCgndXAnKSIKICAgICAgIEBrZXlkb3duLmRvd249InNlbGVjdFRpcCgnZG93bicpIj4KICAgIDxkaXYgY2xhc3M9InNlYXJjaC1ib3gtd3JhcHBlciI+CiAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IgogICAgICAgIHYtbW9kZWw9ImtleXdvcmQiCiAgICAgICAgQGtleXVwLmVudGVyPSJzZWFyY2giCiAgICAgICAgQGlucHV0PSJhdXRvQ29tcGxldGUiPgogICAgICA8c3BhbiBjbGFzcz0ic2VhcmNoLWJ0biIgQGNsaWNrPSJzZWFyY2giID7mkJzntKI8L3NwYW4+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9InNlYXJjaC10aXBzIj4KICAgICAgPHVsPgogICAgICAgIDxsaSB2LWZvcj0iKHRpcCwgaW5kZXgpIGluIHRpcHMiCiAgICAgICAgICA6a2V5PSJpbmRleCIKICAgICAgICAgIEBjbGljaz0iY2hhbmdlVGlwKHRpcCkiCiAgICAgICAgICBAbW91c2VvdmVyPSJzZWxlY3RlZFRpcD1pbmRleCIKICAgICAgICAgIDpjbGFzcz0ieydhdXRvY29tcGxldGUtc2VsZWN0ZWQnOiBpbmRleCA9PT0gc2VsZWN0ZWRUaXB9Ij57e3RpcC5uYW1lfX08L2xpPgogICAgICA8L3VsPgogICAgPC9kaXY+CiAgPC9kaXY+Cg=="},{"version":3,"sources":["/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/vue-amap/src/lib/components/amap-search-box.vue"],"names":[],"mappings":"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","file":"/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/vue-amap/src/lib/components/amap-search-box.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"el-vue-search-box-container\"\n       @keydown.up=\"selectTip('up')\"\n       @keydown.down=\"selectTip('down')\">\n    <div class=\"search-box-wrapper\">\n      <input type=\"text\"\n        v-model=\"keyword\"\n        @keyup.enter=\"search\"\n        @input=\"autoComplete\">\n      <span class=\"search-btn\" @click=\"search\" >搜索</span>\n    </div>\n    <div class=\"search-tips\">\n      <ul>\n        <li v-for=\"(tip, index) in tips\"\n          :key=\"index\"\n          @click=\"changeTip(tip)\"\n          @mouseover=\"selectedTip=index\"\n          :class=\"{'autocomplete-selected': index === selectedTip}\">{{tip.name}}</li>\n      </ul>\n    </div>\n  </div>\n</template>\n<style lang=\"less\">\n  .el-vue-search-box-container {\n    position: relative;\n    width: 360px;\n    height: 45px;\n    background: #fff;\n    box-shadow: 0 2px 2px rgba(0,0,0,.15);\n    border-radius: 2px 3px 3px 2px;\n    z-index: 10;\n    .search-box-wrapper {\n      position: absolute;\n      display: flex;\n      align-items: center;\n      left: 0;\n      top: 0;\n      width: 100%;\n      height: 100%;\n      box-sizing: border-box;\n\n      input {\n        flex: 1;\n        height: 20px;\n        line-height: 20px;\n        letter-spacing: .5px;\n        font-size: 14px;\n        text-indent: 10px;\n        box-sizing: border-box;\n        border: none;\n        outline: none;\n      }\n\n      .search-btn {\n        width: 45px;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background: transparent;\n        cursor: pointer;\n      }\n    }\n\n    .search-tips {\n      position: absolute;\n      top: 100%;\n      border: 1px solid #dbdbdb;\n      background: #FFF;\n      overflow: auto;\n\n      ul {\n        padding: 0;\n        margin: 0;\n\n        li {\n          height: 40px;\n          line-height: 40px;\n          box-shadow: 0 1px 1px rgba(0,0,0,.1);\n          padding: 0 10px;\n          cursor: pointer;\n\n          &.autocomplete-selected {\n            background: #eee;\n          }\n        }\n      }\n    }\n  }\n</style>\n<script>\nimport RegisterComponentMixin from '../mixins/register-component';\nimport {lazyAMapApiLoaderInstance} from '../services/injected-amap-api-instance';\nexport default {\n  name: 'el-amap-search-box',\n  mixins: [RegisterComponentMixin],\n  props: ['searchOption', 'onSearchResult', 'events', 'default'],\n  data() {\n    return {\n      keyword: this.default || '',\n      tips: [],\n      selectedTip: -1,\n      loaded: false,\n      adcode: null\n    };\n  },\n  mounted() {\n    let _loadApiPromise = lazyAMapApiLoaderInstance.load();\n    _loadApiPromise.then(() => {\n      this.loaded = true;\n      this._onSearchResult = this.onSearchResult;\n      // register init event\n      this.events && this.events.init && this.events.init({\n        autoComplete: this._autoComplete,\n        placeSearch: this._placeSearch\n      });\n    });\n  },\n  computed: {\n    _autoComplete() {\n      if (!this.loaded) return;\n      return new AMap.Autocomplete(this.searchOption || {});\n    },\n    _placeSearch() {\n      if (!this.loaded) return;\n      return new AMap.PlaceSearch(this.searchOption || {});\n    }\n  },\n  methods: {\n    autoComplete() {\n      if (!this.keyword || !this._autoComplete) return;\n      this._autoComplete.search(this.keyword, (status, result) => {\n        if (status === 'complete') {\n          this.tips = result.tips;\n        }\n      });\n    },\n    search() {\n      this.tips = [];\n      if (!this._placeSearch) return;\n      let city = null;\n      if (this.searchOption.citylimit && this.searchOption.city) {\n        city = this.searchOption.city;\n      } else {\n        city = this.adcode;\n      }\n      this._placeSearch.setCity(city || this.searchOption.city);\n      this._placeSearch.search(this.keyword, (status, result) => {\n        if (result && result.poiList && result.poiList.count) {\n          let {poiList: {pois}} = result;\n          let LngLats = pois.map(poi => {\n            poi.lat = poi.location.lat;\n            poi.lng = poi.location.lng;\n            return poi;\n          });\n          this._onSearchResult(LngLats);\n        } else if (result.poiList === undefined) {\n          throw new Error(result);\n        }\n      });\n    },\n    changeTip(tip) {\n      this.adcode = tip.adcode;\n      this.keyword = tip.name;\n      this.search();\n    },\n    selectTip(type) {\n      if (type === 'up' && this.selectedTip > 0) {\n        this.selectedTip -= 1;\n        this.keyword = this.tips[this.selectedTip].name;\n        this.adcode = this.tips[this.selectedTip].adcode;\n      } else if (type === 'down' && this.selectedTip + 1 < this.tips.length) {\n        this.selectedTip += 1;\n        this.keyword = this.tips[this.selectedTip].name;\n        this.adcode = this.tips[this.selectedTip].adcode;\n      }\n    }\n  }\n};\n</script>\n"]}]}