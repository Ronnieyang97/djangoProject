{"remainingRequest":"/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/babel-loader/lib/index.js!/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/vue-amap/src/lib/components/amap-info-window.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/vue-amap/src/lib/components/amap-info-window.vue","mtime":1553742335000},{"path":"/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0IHsgdG9MbmdMYXQgfSBmcm9tICcuLi91dGlscy9jb252ZXJ0LWhlbHBlcic7CmltcG9ydCByZWdpc3Rlck1peGluIGZyb20gJy4uL21peGlucy9yZWdpc3Rlci1jb21wb25lbnQnOwppbXBvcnQgeyBjb21waWxlLCBtb3VudGVkVk5vZGUsIG1vdW50ZWRSZW5kZXJGbiB9IGZyb20gJy4uL3V0aWxzL2NvbXBpbGUnOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZWwtYW1hcC1pbmZvLXdpbmRvdycsCiAgbWl4aW5zOiBbcmVnaXN0ZXJNaXhpbl0sCiAgcHJvcHM6IFsndmlkJywgJ2lzQ3VzdG9tJywgJ2F1dG9Nb3ZlJywgJ2Nsb3NlV2hlbkNsaWNrTWFwJywgJ2NvbnRlbnQnLCAnc2l6ZScsICdvZmZzZXQnLCAncG9zaXRpb24nLCAnc2hvd1NoYWRvdycsICd2aXNpYmxlJywgJ2V2ZW50cycsICd0ZW1wbGF0ZScsICd2bm9kZScsICdjb250ZW50UmVuZGVyJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHJldHVybiB7CiAgICAgIHdpdGhTbG90czogZmFsc2UsCiAgICAgIHRtcFZNOiBudWxsLAogICAgICBwcm9wc1JlZGlyZWN0OiB7CiAgICAgICAgdGVtcGxhdGU6ICdjb250ZW50JywKICAgICAgICB2bm9kZTogJ2NvbnRlbnQnLAogICAgICAgIGNvbnRlbnRSZW5kZXI6ICdjb250ZW50JwogICAgICB9LAogICAgICBjb252ZXJ0ZXJzOiB7CiAgICAgICAgdGVtcGxhdGU6IGZ1bmN0aW9uIHRlbXBsYXRlKHRwbCkgewogICAgICAgICAgdmFyIHRlbXBsYXRlID0gY29tcGlsZSh0cGwsIHNlbGYpOwogICAgICAgICAgdGhpcy4kY3VzdG9tQ29udGVudCA9IHRlbXBsYXRlOwogICAgICAgICAgcmV0dXJuIHRlbXBsYXRlLiRlbDsKICAgICAgICB9LAogICAgICAgIHZub2RlOiBmdW5jdGlvbiB2bm9kZShfdm5vZGUpIHsKICAgICAgICAgIHZhciBfdk5vZGUgPSB0eXBlb2YgX3Zub2RlID09PSAnZnVuY3Rpb24nID8gX3Zub2RlKHNlbGYpIDogX3Zub2RlOwoKICAgICAgICAgIHZhciB2Tm9kZSA9IG1vdW50ZWRWTm9kZShfdk5vZGUpOwogICAgICAgICAgdGhpcy4kY3VzdG9tQ29udGVudCA9IHZOb2RlOwogICAgICAgICAgcmV0dXJuIHZOb2RlLiRlbDsKICAgICAgICB9LAogICAgICAgIGNvbnRlbnRSZW5kZXI6IGZ1bmN0aW9uIGNvbnRlbnRSZW5kZXIocmVuZGVyRm4pIHsKICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IG1vdW50ZWRSZW5kZXJGbihyZW5kZXJGbiwgc2VsZik7CiAgICAgICAgICB0aGlzLiRjdXN0b21Db250ZW50ID0gdGVtcGxhdGU7CiAgICAgICAgICByZXR1cm4gdGVtcGxhdGUuJGVsOwogICAgICAgIH0KICAgICAgfSwKICAgICAgaGFuZGxlcnM6IHsKICAgICAgICB2aXNpYmxlOiBmdW5jdGlvbiB2aXNpYmxlKGZsYWcpIHsKICAgICAgICAgIC8vIGZpeGVkIEFtYXAgaW5mby13aW5kb3cgcmVvcGVuCiAgICAgICAgICB2YXIgcG9zaXRpb24gPSB0aGlzLmdldFBvc2l0aW9uKCk7CgogICAgICAgICAgaWYgKHBvc2l0aW9uKSB7CiAgICAgICAgICAgIGZsYWcgPT09IGZhbHNlID8gdGhpcy5jbG9zZSgpIDogdGhpcy5vcGVuKHNlbGYuJGFtYXAsIFtwb3NpdGlvbi5sbmcsIHBvc2l0aW9uLmxhdF0pOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgdGVtcGxhdGU6IGZ1bmN0aW9uIHRlbXBsYXRlKG5vZGUpIHsKICAgICAgICAgIHRoaXMuc2V0Q29udGVudChub2RlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy50bXBWTSA9IG5ldyBWdWUoewogICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBub2RlOiAnJwogICAgICAgIH07CiAgICAgIH0sCiAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgICAgICB2YXIgbm9kZSA9IHRoaXMubm9kZTsKICAgICAgICByZXR1cm4gaCgnZGl2JywgewogICAgICAgICAgcmVmOiAnbm9kZScKICAgICAgICB9LCBBcnJheS5pc0FycmF5KG5vZGUpID8gbm9kZSA6IFtub2RlXSk7CiAgICAgIH0KICAgIH0pLiRtb3VudCgpOwogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICB0aGlzLiRhbWFwQ29tcG9uZW50LmNsb3NlKCk7CiAgICB0aGlzLnRtcFZNLiRkZXN0cm95KCk7CgogICAgaWYgKHRoaXMuJGN1c3RvbUNvbnRlbnQgJiYgdGhpcy4kY3VzdG9tQ29udGVudC4kZGVzdHJveSkgewogICAgICB0aGlzLiRjdXN0b21Db250ZW50LiRkZXN0cm95KCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBfX2luaXRDb21wb25lbnQ6IGZ1bmN0aW9uIF9faW5pdENvbXBvbmVudChvcHRpb25zKSB7CiAgICAgIGlmICh0aGlzLiRzbG90cy5kZWZhdWx0ICYmIHRoaXMuJHNsb3RzLmRlZmF1bHQubGVuZ3RoKSB7CiAgICAgICAgb3B0aW9ucy5jb250ZW50ID0gdGhpcy50bXBWTS4kcmVmcy5ub2RlOwogICAgICB9IC8vIGNvbnRyb2wgb3BlbiAvIGNsb3NlIGJ5IHZpc2libGUgcHJvcAoKCiAgICAgIGRlbGV0ZSBvcHRpb25zLm1hcDsKICAgICAgdGhpcy4kYW1hcENvbXBvbmVudCA9IG5ldyBBTWFwLkluZm9XaW5kb3cob3B0aW9ucyk7CiAgICAgIGlmICh0aGlzLnZpc2libGUgIT09IGZhbHNlKSB0aGlzLiRhbWFwQ29tcG9uZW50Lm9wZW4odGhpcy4kYW1hcCwgdG9MbmdMYXQodGhpcy5wb3NpdGlvbikpOwogICAgfQogIH0sCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkgewogICAgdmFyIHNsb3RzID0gdGhpcy4kc2xvdHMuZGVmYXVsdCB8fCBbXTsKCiAgICBpZiAoc2xvdHMubGVuZ3RoKSB7CiAgICAgIHRoaXMudG1wVk0ubm9kZSA9IHNsb3RzOwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0KfTs="},{"version":3,"sources":["/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/vue-amap/src/lib/components/amap-info-window.vue"],"names":[],"mappings":"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","sourcesContent":["<script>\nimport { toLngLat } from '../utils/convert-helper';\nimport registerMixin from '../mixins/register-component';\nimport { compile, mountedVNode, mountedRenderFn } from '../utils/compile';\nimport Vue from 'vue';\nexport default {\n  name: 'el-amap-info-window',\n  mixins: [registerMixin],\n  props: [\n    'vid',\n    'isCustom',\n    'autoMove',\n    'closeWhenClickMap',\n    'content',\n    'size',\n    'offset',\n    'position',\n    'showShadow',\n    'visible',\n    'events',\n    'template',\n    'vnode',\n    'contentRender'\n  ],\n  data() {\n    let self = this;\n    return {\n      withSlots: false,\n      tmpVM: null,\n      propsRedirect: {\n        template: 'content',\n        vnode: 'content',\n        contentRender: 'content'\n      },\n      converters: {\n        template(tpl) {\n          const template = compile(tpl, self);\n          this.$customContent = template;\n          return template.$el;\n        },\n        vnode(vnode) {\n          const _vNode = typeof vnode === 'function' ? vnode(self) : vnode;\n          const vNode = mountedVNode(_vNode);\n          this.$customContent = vNode;\n          return vNode.$el;\n        },\n        contentRender(renderFn) {\n          const template = mountedRenderFn(renderFn, self);\n          this.$customContent = template;\n          return template.$el;\n        }\n      },\n      handlers: {\n        visible(flag) {\n          // fixed Amap info-window reopen\n          let position = this.getPosition();\n          if (position) {\n            flag === false ? this.close() : this.open(self.$amap, [position.lng, position.lat]);\n          }\n        },\n        template(node) {\n          this.setContent(node);\n        }\n      }\n    };\n  },\n  created() {\n    this.tmpVM = new Vue({\n      data() {\n        return {node: ''};\n      },\n      render(h) {\n        const { node } = this;\n        return h('div', {ref: 'node'}, Array.isArray(node) ? node : [node]);\n      }\n    }).$mount();\n  },\n  destroyed() {\n    this.$amapComponent.close();\n    this.tmpVM.$destroy();\n    if (this.$customContent && this.$customContent.$destroy) {\n      this.$customContent.$destroy();\n    }\n  },\n  methods: {\n    __initComponent(options) {\n      if (this.$slots.default && this.$slots.default.length) {\n        options.content = this.tmpVM.$refs.node;\n      }\n\n      // control open / close by visible prop\n      delete options.map;\n\n      this.$amapComponent = new AMap.InfoWindow(options);\n      if (this.visible !== false) this.$amapComponent.open(this.$amap, toLngLat(this.position));\n    }\n  },\n  render(h) {\n    const slots = this.$slots.default || [];\n    if (slots.length) {\n      this.tmpVM.node = slots;\n    }\n    return null;\n  }\n};\n</script>\n"],"sourceRoot":""}]}