{"remainingRequest":"/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/babel-loader/lib/index.js!/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/ronnie/PycharmProjects/djangoProject/appfront/src/components/news/News_page.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/ronnie/PycharmProjects/djangoProject/appfront/src/components/news/News_page.vue","mtime":1603259354851},{"path":"/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgcmVhY3RpdmUsIG9uTW91bnRlZCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IExlZnRDaXJjbGVUd29Ub25lLCBSaWdodENpcmNsZVR3b1RvbmUsIENsb3NlQ2lyY2xlVHdvVG9uZSB9IGZyb20gIkBhbnQtZGVzaWduL2ljb25zLXZ1ZS8iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ05ld3NfcGFnZScsCiAgY29tcG9uZW50czogewogICAgTGVmdENpcmNsZVR3b1RvbmU6IExlZnRDaXJjbGVUd29Ub25lLAogICAgUmlnaHRDaXJjbGVUd29Ub25lOiBSaWdodENpcmNsZVR3b1RvbmUsCiAgICBDbG9zZUNpcmNsZVR3b1RvbmU6IENsb3NlQ2lyY2xlVHdvVG9uZQogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIG5ld3MgPSByZWFjdGl2ZSh7CiAgICAgIGl0ZW1zOiBbXQogICAgfSk7CiAgICB2YXIgbW9kYWwgPSByZWFjdGl2ZSh7CiAgICAgIHRpdGxlOiAnJywKICAgICAgZGF0ZTogJycsCiAgICAgIHN1bW1hcnk6ICcnLAogICAgICBpbnRyb2R1Y3Rpb246ICcnLAogICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgaW5kZXg6IDAKICAgIH0pOwoKICAgIHZhciBzaG93bW9kYWwgPSBmdW5jdGlvbiBzaG93bW9kYWwoaW5kZXgpIHsKICAgICAgbW9kYWwudmlzaWJsZSA9IHRydWU7CiAgICAgIG1vZGFsLnRpdGxlID0gbmV3cy5pdGVtc1tpbmRleF0udGl0bGU7CiAgICAgIG1vZGFsLmRhdGUgPSBuZXdzLml0ZW1zW2luZGV4XS5kYXRlOwogICAgICBtb2RhbC5zdW1tYXJ5ID0gbmV3cy5pdGVtc1tpbmRleF0uc3VtbWFyeTsKICAgICAgbW9kYWwuaW50cm9kdWN0aW9uID0gbmV3cy5pdGVtc1tpbmRleF0uaW50cm9kdWN0aW9uOwogICAgICBtb2RhbC5pbmRleCA9IGluZGV4OwogICAgfTsKCiAgICB2YXIgcHJldmlvdXNfbmV3cyA9IGZ1bmN0aW9uIHByZXZpb3VzX25ld3MoaW5kZXgpIHsKICAgICAgaWYgKGluZGV4ID4gMCkgewogICAgICAgIGNsb3NlOwogICAgICAgIHNob3dtb2RhbChpbmRleCAtIDEpOwogICAgICB9CiAgICB9OwoKICAgIHZhciBuZXh0X25ld3MgPSBmdW5jdGlvbiBuZXh0X25ld3MoaW5kZXgpIHsKICAgICAgaWYgKGluZGV4IDwgbmV3cy5pdGVtcy5sZW5ndGgpIHsKICAgICAgICBjbG9zZTsKICAgICAgICBzaG93bW9kYWwoaW5kZXggKyAxKTsKICAgICAgfQogICAgfTsKCiAgICB2YXIgY2xvc2UgPSBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgbW9kYWwudmlzaWJsZSA9IGZhbHNlOwogICAgfTsKCiAgICBvbk1vdW50ZWQoYXhpb3MuZ2V0KCdodHRwOi8vMTI3LjAuMC4xOjgwMDAvYXBpL25ld3MnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXMuZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChyZXMuZGF0YVtpXS5hdmFpbGFibGUpIHsKICAgICAgICAgIG5ld3MuaXRlbXMucHVzaChyZXMuZGF0YVtpXSk7CiAgICAgICAgfQoKICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YVtpXS5pbnRyb2R1Y3Rpb24pOwogICAgICB9CgogICAgICBuZXdzLml0ZW1zLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gYVsnaWQnXSAtIGJbJ2lkJ107CiAgICAgIH0pOwogICAgfSkpOwogICAgcmV0dXJuIHsKICAgICAgbmV3czogbmV3cywKICAgICAgbW9kYWw6IG1vZGFsLAogICAgICBzaG93bW9kYWw6IHNob3dtb2RhbCwKICAgICAgY2xvc2U6IGNsb3NlLAogICAgICBwcmV2aW91c19uZXdzOiBwcmV2aW91c19uZXdzLAogICAgICBuZXh0X25ld3M6IG5leHRfbmV3cwogICAgfTsKICB9Cn07"},{"version":3,"sources":["/Users/ronnie/PycharmProjects/djangoProject/appfront/src/components/news/News_page.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <br/>\n  <p style=\"font-size: 4.5vh;color: black;letter-spacing: 0.5vw;font-weight: bold\">公司新闻</p>\n  <p style=\"color: black\">——</p>\n  <div v-for=\"(item, index) in news.items\" :key=\"index\">\n    <a-row>\n      <a-col :span=\"2\"></a-col>\n      <a-col :span=\"5\" style=\"border-width: thin;border-bottom-style: solid;border-top-style: solid;\">\n        <div class=\"news_date_icon\">\n          <div class=\"news_date\">\n            <p>{{ item.date.substring(0, 4) }}</p>\n            <p>{{ item.date.substring(5, 7) }} | {{ item.date.substring(8) }}</p>\n          </div>\n        </div>\n      </a-col>\n      <a-col :span=\"15\" @click=\"showmodal(index)\">\n        <div class=\"news_brief\">\n          <p style=\"color: black;font-weight: bold;font-size: 3vh\">{{ item.title }}</p>\n          <p style=\"color: grey;text-align: left\">{{ item.summary }}</p>\n        </div>\n      </a-col>\n    </a-row>\n  </div>\n  <a-modal v-model:visible=\"modal.visible\"\n           :centered=\"true\" :footer=\"null\" :width=\"'100%'\"\n           :bodyStyle=\"{'padding-bottom': 0} \" :destroyOnClose=\"true\">\n    <div class=\"news_detail\">\n      <p style=\"color: blue; font-size: 4vh;margin-bottom: 2vh\">{{ modal.title }}</p>\n      <p style=\"color: blue;margin-bottom: 1vh\">{{ modal.date }}</p>\n      <p style=\"color: blue\">——</p>\n      <p style=\"height: 50vh;max-height: 50vh;margin-bottom:0;overflow-x: hidden;white-space: pre-line\">\n        {{ modal.introduction }}</p>\n    </div>\n    <a-row style=\"padding-bottom: 4vh\">\n      <a-col :span=\"9\"></a-col>\n      <a-col :span=\"2\">\n        <LeftCircleTwoTone v-on:click=\"previous_news(modal.index)\" :style=\"{fontSize: '8vh'} \"/>\n      </a-col>\n      <a-col :span=\"2\">\n        <CloseCircleTwoTone v-on:click=\"close\" :style=\"{fontSize: '8vh'}\"/>\n      </a-col>\n      <a-col :span=\"2\">\n        <RightCircleTwoTone v-on:click=\"next_news(modal.index)\" :style=\"{fontSize: '8vh'}\"/>\n      </a-col>\n\n\n    </a-row>\n  </a-modal>\n</template>\n\n<script>\nimport axios from 'axios'\nimport {reactive, onMounted} from 'vue'\nimport {LeftCircleTwoTone, RightCircleTwoTone, CloseCircleTwoTone} from \"@ant-design/icons-vue/\"\n\nexport default {\n  name: 'News_page',\n  components: {\n    LeftCircleTwoTone, RightCircleTwoTone, CloseCircleTwoTone\n  },\n  setup() {\n    const news = reactive({\n      items: [],\n    })\n    const modal = reactive({\n      title: '',\n      date: '',\n      summary: '',\n      introduction: '',\n      visible: false,\n      index: 0,\n    })\n    const showmodal = (index) => {\n\n      modal.visible = true\n      modal.title = news.items[index].title\n      modal.date = news.items[index].date\n      modal.summary = news.items[index].summary\n      modal.introduction = news.items[index].introduction\n      modal.index = index\n    }\n    const previous_news = (index) => {\n      if (index > 0) {\n        close\n        showmodal(index - 1)\n      }\n    }\n    const next_news = (index) => {\n      if (index < news.items.length) {\n        close\n        showmodal(index + 1)\n      }\n    }\n    const close = () => {\n      modal.visible = false\n    }\n    onMounted(axios.get('http://127.0.0.1:8000/api/news')\n        .then((res) => {\n          for (let i = 0; i < res.data.length; i++) {\n            if (res.data[i].available) {\n              news.items.push(res.data[i])\n            }\n            console.log(res.data[i].introduction)\n          }\n          news.items.sort((a, b) => {\n            return a['id'] - b['id']\n          })\n        }))\n    return {news, modal, showmodal, close, previous_news, next_news}\n  }\n}\n</script>\n<style>\n.news_date_icon {\n  height: 180px;\n  width: 180px;\n  background-image: url(\"../../assets/image/news_icon.png\");\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 100% 100%;\n  margin: 3vh calc((20.83vw - 180px) / 2);\n}\n\n.news_date p {\n  font-size: 4vh;\n  margin-bottom: 1vh;\n}\n\n.news_date {\n  padding-top: 6vh;\n}\n\n.news_brief {\n  padding-top: 6vh;\n  margin: 0 2vw;\n}\n\n.news_detail p {\n  color: black;\n}\n\n.news_detail {\n  margin: 0 5vw;\n  padding-top: 6vh;\n  height: 100%;\n  padding-bottom: 6vh;\n}\n\n.news_detail_icon {\n  height: 5vh;\n  width: 5vh;\n}\n</style>"],"sourceRoot":""}]}