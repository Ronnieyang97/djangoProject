{"remainingRequest":"/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/babel-loader/lib/index.js!/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/vue-amap/src/lib/components/amap.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/vue-amap/src/lib/components/amap.vue","mtime":1553742980000},{"path":"/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfdHlwZW9mIGZyb20gIi9Vc2Vycy9yb25uaWUvUHljaGFybVByb2plY3RzL2RqYW5nb1Byb2plY3QvYXBwZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZiI7CmltcG9ydCBndWlkIGZyb20gJy4uL3V0aWxzL2d1aWQnOwppbXBvcnQgQ09OU1QgZnJvbSAnLi4vdXRpbHMvY29uc3RhbnQnOwppbXBvcnQgeyBsbmdMYXRUbywgdG9MbmdMYXQsIHRvUGl4ZWwgfSBmcm9tICcuLi91dGlscy9jb252ZXJ0LWhlbHBlcic7CmltcG9ydCByZWdpc3Rlck1peGluIGZyb20gJy4uL21peGlucy9yZWdpc3Rlci1jb21wb25lbnQnOwppbXBvcnQgeyBsYXp5QU1hcEFwaUxvYWRlckluc3RhbmNlIH0gZnJvbSAnLi4vc2VydmljZXMvaW5qZWN0ZWQtYW1hcC1hcGktaW5zdGFuY2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2VsLWFtYXAnLAogIG1peGluczogW3JlZ2lzdGVyTWl4aW5dLAogIHByb3BzOiBbLy8gIGFkZCB2MS40LjAgbmV3IGZlYXR1cmUKICAndmlld01vZGUnLCAnc2t5Q29sb3InLCAncm90YXRlRW5hYmxlJywgJ3BpdGNoJywgJ2J1aWxkaW5nQW5pbWF0aW9uJywgJ3BpdGNoRW5hYmxlJywgJ3ZpZCcsICdldmVudHMnLCAnY2VudGVyJywgJ3pvb20nLCAnZHJhZ2dFbmFibGUnLCAnbGV2ZWwnLCAnem9vbXMnLCAnbGFuZycsICdkZWZhdWx0Q3Vyc29yJywgJ2NycycsICdhbmltYXRlRW5hYmxlJywgJ2lzSG90c3BvdCcsICdkZWZhdWx0TGF5ZXInLCAncm90YXRlRW5hYmxlJywgJ3Jlc2l6ZUVuYWJsZScsICdzaG93SW5kb29yTWFwJywgJ2luZG9vck1hcCcsICdleHBhbmRab29tUmFuZ2UnLCAnZHJhZ0VuYWJsZScsICd6b29tRW5hYmxlJywgJ2RvdWJsZUNsaWNrWm9vbScsICdrZXlib2FyZEVuYWJsZScsICdqb2dFbmFibGUnLCAnc2Nyb2xsV2hlZWwnLCAndG91Y2hab29tJywgJ21hcFN0eWxlJywgJ3BsdWdpbicsICdmZWF0dXJlcycsICdhbWFwTWFuYWdlcicgLy8g5Zyw5Zu+566h55CGIG1hbmFnZXIKICBdLAogIGJlZm9yZUNyZWF0ZTogZnVuY3Rpb24gYmVmb3JlQ3JlYXRlKCkgewogICAgdGhpcy5fbG9hZFByb21pc2UgPSBsYXp5QU1hcEFwaUxvYWRlckluc3RhbmNlLmxvYWQoKTsKICB9LAogIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgdGhpcy4kYW1hcCAmJiB0aGlzLiRhbWFwLmRlc3Ryb3koKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvKioKICAgICogY29udmVydCBwbHVnaW4gcHJvcCBmcm9tICdwbHVnaW4nIHRvICdwbHVnaW5zJwogICAgKiB1bmlmeSBwbHVnaW4gb3B0aW9ucwogICAgKiBAcmV0dXJuIHtBcnJheX0KICAgICovCiAgICBwbHVnaW5zOiBmdW5jdGlvbiBwbHVnaW5zKCkgewogICAgICB2YXIgcGx1cyA9IFtdOyAvLyBhbWFwIHBsdWdpbiBwcmVmaXggcmVnCgogICAgICB2YXIgYW1hcF9wcmVmaXhfcmVnID0gL15BTWFwLi87IC8vIHBhcnNlIHBsdWdpbiBmdWxsIG5hbWUKCiAgICAgIHZhciBwYXJzZUZ1bGxOYW1lID0gZnVuY3Rpb24gcGFyc2VGdWxsTmFtZShwbHVnaW5OYW1lKSB7CiAgICAgICAgcmV0dXJuIGFtYXBfcHJlZml4X3JlZy50ZXN0KHBsdWdpbk5hbWUpID8gcGx1Z2luTmFtZSA6ICdBTWFwLicgKyBwbHVnaW5OYW1lOwogICAgICB9OyAvLyBwYXJzZSBwbHVnaW4gc2hvcnQgbmFtZQoKCiAgICAgIHZhciBwYXJzZVNob3J0TmFtZSA9IGZ1bmN0aW9uIHBhcnNlU2hvcnROYW1lKHBsdWdpbk5hbWUpIHsKICAgICAgICByZXR1cm4gcGx1Z2luTmFtZS5yZXBsYWNlKGFtYXBfcHJlZml4X3JlZywgJycpOwogICAgICB9OwoKICAgICAgaWYgKHR5cGVvZiB0aGlzLnBsdWdpbiA9PT0gJ3N0cmluZycpIHsKICAgICAgICBwbHVzLnB1c2goewogICAgICAgICAgcE5hbWU6IHBhcnNlRnVsbE5hbWUodGhpcy5wbHVnaW4pLAogICAgICAgICAgc05hbWU6IHBhcnNlU2hvcnROYW1lKHRoaXMucGx1Z2luKQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHRoaXMucGx1Z2luIGluc3RhbmNlb2YgQXJyYXkpIHsKICAgICAgICBwbHVzID0gdGhpcy5wbHVnaW4ubWFwKGZ1bmN0aW9uIChvUGx1Z2luKSB7CiAgICAgICAgICB2YXIgblBsdWdpbiA9IHt9OwoKICAgICAgICAgIGlmICh0eXBlb2Ygb1BsdWdpbiA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgblBsdWdpbiA9IHsKICAgICAgICAgICAgICBwTmFtZTogcGFyc2VGdWxsTmFtZShvUGx1Z2luKSwKICAgICAgICAgICAgICBzTmFtZTogcGFyc2VTaG9ydE5hbWUob1BsdWdpbikKICAgICAgICAgICAgfTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG9QbHVnaW4ucE5hbWUgPSBwYXJzZUZ1bGxOYW1lKG9QbHVnaW4ucE5hbWUpOwogICAgICAgICAgICBvUGx1Z2luLnNOYW1lID0gcGFyc2VTaG9ydE5hbWUob1BsdWdpbi5wTmFtZSk7CiAgICAgICAgICAgIG5QbHVnaW4gPSBvUGx1Z2luOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBuUGx1Z2luOwogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gcGx1czsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb252ZXJ0ZXJzOiB7CiAgICAgICAgY2VudGVyOiBmdW5jdGlvbiBjZW50ZXIoYXJyKSB7CiAgICAgICAgICByZXR1cm4gdG9MbmdMYXQoYXJyKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGhhbmRsZXJzOiB7CiAgICAgICAgem9vbUVuYWJsZTogZnVuY3Rpb24gem9vbUVuYWJsZShmbGFnKSB7CiAgICAgICAgICB0aGlzLnNldFN0YXR1cyh7CiAgICAgICAgICAgIHpvb21FbmFibGU6IGZsYWcKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgZHJhZ0VuYWJsZTogZnVuY3Rpb24gZHJhZ0VuYWJsZShmbGFnKSB7CiAgICAgICAgICB0aGlzLnNldFN0YXR1cyh7CiAgICAgICAgICAgIGRyYWdFbmFibGU6IGZsYWcKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgcm90YXRlRW5hYmxlOiBmdW5jdGlvbiByb3RhdGVFbmFibGUoZmxhZykgewogICAgICAgICAgdGhpcy5zZXRTdGF0dXMoewogICAgICAgICAgICByb3RhdGVFbmFibGU6IGZsYWcKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNyZWF0ZU1hcCgpOwogIH0sCiAgYWRkRXZlbnRzOiBmdW5jdGlvbiBhZGRFdmVudHMoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuJGFtYXBDb21wb25lbnQub24oJ21vdmVlbmQnLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBjZW50ZXJMbmdMYXQgPSBfdGhpcy4kYW1hcENvbXBvbmVudC5nZXRDZW50ZXIoKTsKCiAgICAgIF90aGlzLmNlbnRlciA9IFtjZW50ZXJMbmdMYXQuZ2V0TG5nKCksIGNlbnRlckxuZ0xhdC5nZXRMYXQoKV07CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZFBsdWdpbnM6IGZ1bmN0aW9uIGFkZFBsdWdpbnMoKSB7CiAgICAgIHZhciBfbm90SW5qZWN0UGx1Z2lucyA9IHRoaXMucGx1Z2lucy5maWx0ZXIoZnVuY3Rpb24gKF9wbHVnaW4pIHsKICAgICAgICByZXR1cm4gIUFNYXBbX3BsdWdpbi5zTmFtZV07CiAgICAgIH0pOwoKICAgICAgaWYgKCFfbm90SW5qZWN0UGx1Z2lucyB8fCAhX25vdEluamVjdFBsdWdpbnMubGVuZ3RoKSByZXR1cm4gdGhpcy5hZGRNYXBDb250cm9scygpOwogICAgICByZXR1cm4gdGhpcy4kYW1hcENvbXBvbmVudC5wbHVnaW4oX25vdEluamVjdFBsdWdpbnMsIHRoaXMuYWRkTWFwQ29udHJvbHMpOwogICAgfSwKICAgIGFkZE1hcENvbnRyb2xzOiBmdW5jdGlvbiBhZGRNYXBDb250cm9scygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMucGx1Z2lucyB8fCAhdGhpcy5wbHVnaW5zLmxlbmd0aCkgcmV0dXJuOyAvLyAgc3RvcmUgcGx1Z2luIGluc3RhbmNlcwoKICAgICAgdGhpcy4kcGx1Z2lucyA9IHRoaXMuJHBsdWdpbnMgfHwge307CiAgICAgIHRoaXMucGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChfcGx1Z2luKSB7CiAgICAgICAgdmFyIHJlYWxQbHVnaW5PcHRpb25zID0gX3RoaXMyLmNvbnZlcnRBTWFwUGx1Z2luUHJvcHMoX3BsdWdpbik7CgogICAgICAgIHZhciBwbHVnaW5JbnN0YW5jZSA9IF90aGlzMi4kcGx1Z2luc1tyZWFsUGx1Z2luT3B0aW9ucy5wTmFtZV0gPSBuZXcgQU1hcFtyZWFsUGx1Z2luT3B0aW9ucy5zTmFtZV0ocmVhbFBsdWdpbk9wdGlvbnMpOyAvLyBhZGQgcGx1Z2luIGludG8gbWFwCgogICAgICAgIF90aGlzMi4kYW1hcENvbXBvbmVudC5hZGRDb250cm9sKHBsdWdpbkluc3RhbmNlKTsgLy8gcmVnaXN0ZXIgcGx1Z2luIGV2ZW50CgoKICAgICAgICBpZiAoX3BsdWdpbi5ldmVudHMpIHsKICAgICAgICAgIGZvciAodmFyIGsgaW4gX3BsdWdpbi5ldmVudHMpIHsKICAgICAgICAgICAgdmFyIHYgPSBfcGx1Z2luLmV2ZW50c1trXTsKICAgICAgICAgICAgaWYgKGsgPT09ICdpbml0JykgdihwbHVnaW5JbnN0YW5jZSk7ZWxzZSBBTWFwLmV2ZW50LmFkZExpc3RlbmVyKHBsdWdpbkluc3RhbmNlLCBrLCB2KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioKICAgICogcGFyc2UgcGx1Z2luCiAgICAqIEBwYXJhbSAge09iamVjdH0KICAgICogQHJldHVybiB7T2JqZWN0fQogICAgKi8KICAgIGNvbnZlcnRBTWFwUGx1Z2luUHJvcHM6IGZ1bmN0aW9uIGNvbnZlcnRBTWFwUGx1Z2luUHJvcHMocGx1Z2luKSB7CiAgICAgIGlmIChfdHlwZW9mKHBsdWdpbikgPT09ICdvYmplY3QnICYmIHBsdWdpbi5wTmFtZSkgewogICAgICAgIHN3aXRjaCAocGx1Z2luLnBOYW1lKSB7CiAgICAgICAgICBjYXNlICdBTWFwLlRvb2xCYXInOgogICAgICAgICAgICB7CiAgICAgICAgICAgICAgLy8gcGFyc2Ugb2Zmc2V0CiAgICAgICAgICAgICAgaWYgKHBsdWdpbi5vZmZzZXQgJiYgcGx1Z2luLm9mZnNldCBpbnN0YW5jZW9mIEFycmF5KSB7CiAgICAgICAgICAgICAgICBwbHVnaW4ub2Zmc2V0ID0gdG9QaXhlbChwbHVnaW4ub2Zmc2V0KTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgY2FzZSAnQU1hcC5TY2FsZSc6CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAvLyBwYXJzZSBvZmZzZXQKICAgICAgICAgICAgICBpZiAocGx1Z2luLm9mZnNldCAmJiBwbHVnaW4ub2Zmc2V0IGluc3RhbmNlb2YgQXJyYXkpIHsKICAgICAgICAgICAgICAgIHBsdWdpbi5vZmZzZXQgPSB0b1BpeGVsKHBsdWdpbi5vZmZzZXQpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBwbHVnaW47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CiAgICB9LAogICAgc2V0U3RhdHVzOiBmdW5jdGlvbiBzZXRTdGF0dXMob3B0aW9uKSB7CiAgICAgIHRoaXMuJGFtYXAuc2V0U3RhdHVzKG9wdGlvbik7CiAgICB9LAogICAgY3JlYXRlTWFwOiBmdW5jdGlvbiBjcmVhdGVNYXAoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5fbG9hZFByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG1hcEVsZW1lbnQgPSBfdGhpczMuJGVsLnF1ZXJ5U2VsZWN0b3IoJy5lbC12dWUtYW1hcCcpOwoKICAgICAgICB2YXIgZWxlbWVudElEID0gX3RoaXMzLnZpZCB8fCBndWlkKCk7CiAgICAgICAgbWFwRWxlbWVudC5pZCA9IGVsZW1lbnRJRDsKICAgICAgICBfdGhpczMuJGFtYXAgPSBfdGhpczMuJGFtYXBDb21wb25lbnQgPSBuZXcgQU1hcC5NYXAoZWxlbWVudElELCBfdGhpczMuY29udmVydFByb3BzKCkpOwogICAgICAgIGlmIChfdGhpczMuYW1hcE1hbmFnZXIpIF90aGlzMy5hbWFwTWFuYWdlci5zZXRNYXAoX3RoaXMzLiRhbWFwKTsKCiAgICAgICAgX3RoaXMzLiRlbWl0KENPTlNULkFNQVBfUkVBRFlfRVZFTlQsIF90aGlzMy4kYW1hcCk7CgogICAgICAgIF90aGlzMy4kY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY29tcG9uZW50KSB7CiAgICAgICAgICBjb21wb25lbnQuJGVtaXQoQ09OU1QuQU1BUF9SRUFEWV9FVkVOVCwgX3RoaXMzLiRhbWFwKTsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKF90aGlzMy5wbHVnaW5zICYmIF90aGlzMy5wbHVnaW5zLmxlbmd0aCkgewogICAgICAgICAgX3RoaXMzLmFkZFBsdWdpbnMoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgICQkZ2V0Q2VudGVyOiBmdW5jdGlvbiAkJGdldENlbnRlcigpIHsKICAgICAgaWYgKCF0aGlzLiRhbWFwKSByZXR1cm4gbG5nTGF0VG8odGhpcy5jZW50ZXIpOwogICAgICByZXR1cm4gbG5nTGF0VG8odGhpcy4kYW1hcC5nZXRDZW50ZXIoKSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/ronnie/PycharmProjects/djangoProject/appfront/node_modules/vue-amap/src/lib/components/amap.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<div class=\"el-vue-amap-container\">\n    <div class=\"el-vue-amap\"></div>\n    <slot></slot>\n</div>\n</template>\n<script>\nimport guid from '../utils/guid';\nimport CONST from '../utils/constant';\nimport { lngLatTo, toLngLat, toPixel } from '../utils/convert-helper';\nimport registerMixin from '../mixins/register-component';\nimport {lazyAMapApiLoaderInstance} from '../services/injected-amap-api-instance';\nexport default {\n  name: 'el-amap',\n  mixins: [registerMixin],\n  props: [\n  //  add v1.4.0 new feature\n    'viewMode',\n    'skyColor',\n    'rotateEnable',\n    'pitch',\n    'buildingAnimation',\n    'pitchEnable',\n\n    'vid',\n    'events',\n    'center',\n    'zoom',\n    'draggEnable',\n    'level',\n    'zooms',\n    'lang',\n    'defaultCursor',\n    'crs',\n    'animateEnable',\n    'isHotspot',\n    'defaultLayer',\n    'rotateEnable',\n    'resizeEnable',\n    'showIndoorMap',\n    'indoorMap',\n    'expandZoomRange',\n    'dragEnable',\n    'zoomEnable',\n    'doubleClickZoom',\n    'keyboardEnable',\n    'jogEnable',\n    'scrollWheel',\n    'touchZoom',\n    'mapStyle',\n    'plugin',\n    'features',\n    'amapManager'  // 地图管理 manager\n  ],\n\n  beforeCreate() {\n    this._loadPromise = lazyAMapApiLoaderInstance.load();\n  },\n\n  destroyed() {\n    this.$amap && this.$amap.destroy();\n  },\n\n  computed: {\n    /**\n    * convert plugin prop from 'plugin' to 'plugins'\n    * unify plugin options\n    * @return {Array}\n    */\n    plugins() {\n      let plus = [];\n      // amap plugin prefix reg\n      const amap_prefix_reg = /^AMap./;\n\n      // parse plugin full name\n      const parseFullName = (pluginName) => {\n        return amap_prefix_reg.test(pluginName) ? pluginName : 'AMap.' + pluginName;\n      };\n\n      // parse plugin short name\n      const parseShortName = (pluginName) => {\n        return pluginName.replace(amap_prefix_reg, '');\n      };\n\n      if (typeof this.plugin === 'string') {\n        plus.push({\n          pName: parseFullName(this.plugin),\n          sName: parseShortName(this.plugin)\n        });\n      } else if (this.plugin instanceof Array) {\n        plus = this.plugin.map(oPlugin => {\n          let nPlugin = {};\n\n          if (typeof oPlugin === 'string') {\n            nPlugin = {\n              pName: parseFullName(oPlugin),\n              sName: parseShortName(oPlugin)\n            };\n          } else {\n            oPlugin.pName = parseFullName(oPlugin.pName);\n            oPlugin.sName = parseShortName(oPlugin.pName);\n            nPlugin = oPlugin;\n          }\n          return nPlugin;\n        });\n      }\n      return plus;\n    }\n  },\n\n  data() {\n    return {\n      converters: {\n        center(arr) {\n          return toLngLat(arr);\n        }\n      },\n      handlers: {\n        zoomEnable(flag) {\n          this.setStatus({zoomEnable: flag});\n        },\n        dragEnable(flag) {\n          this.setStatus({dragEnable: flag});\n        },\n        rotateEnable(flag) {\n          this.setStatus({rotateEnable: flag});\n        }\n      }\n    };\n  },\n\n  mounted() {\n    this.createMap();\n  },\n\n  addEvents() {\n    this.$amapComponent.on('moveend', () => {\n      let centerLngLat = this.$amapComponent.getCenter();\n      this.center = [centerLngLat.getLng(), centerLngLat.getLat()];\n    });\n  },\n\n  methods: {\n    addPlugins() {\n      let _notInjectPlugins = this.plugins.filter(_plugin => !AMap[_plugin.sName]);\n\n      if (!_notInjectPlugins || !_notInjectPlugins.length) return this.addMapControls();\n      return this.$amapComponent.plugin(_notInjectPlugins, this.addMapControls);\n    },\n\n    addMapControls() {\n      if (!this.plugins || !this.plugins.length) return;\n\n      //  store plugin instances\n      this.$plugins = this.$plugins || {};\n\n      this.plugins.forEach(_plugin => {\n        const realPluginOptions = this.convertAMapPluginProps(_plugin);\n        const pluginInstance = this.$plugins[realPluginOptions.pName] = new AMap[realPluginOptions.sName](realPluginOptions);\n\n        // add plugin into map\n        this.$amapComponent.addControl(pluginInstance);\n\n        // register plugin event\n        if (_plugin.events) {\n          for (let k in _plugin.events) {\n            let v = _plugin.events[k];\n            if (k === 'init') v(pluginInstance);\n            else AMap.event.addListener(pluginInstance, k, v);\n          }\n        }\n      });\n    },\n\n    /**\n    * parse plugin\n    * @param  {Object}\n    * @return {Object}\n    */\n    convertAMapPluginProps(plugin) {\n\n      if (typeof plugin === 'object' && plugin.pName) {\n        switch (plugin.pName) {\n          case 'AMap.ToolBar': {\n            // parse offset\n            if (plugin.offset && plugin.offset instanceof Array) {\n              plugin.offset = toPixel(plugin.offset);\n            }\n            break;\n          }\n          case 'AMap.Scale': {\n            // parse offset\n            if (plugin.offset && plugin.offset instanceof Array) {\n              plugin.offset = toPixel(plugin.offset);\n            }\n            break;\n          }\n        }\n        return plugin;\n      } else {\n        return '';\n      }\n    },\n\n    setStatus(option) {\n      this.$amap.setStatus(option);\n    },\n\n    createMap() {\n      this._loadPromise.then(() => {\n        let mapElement = this.$el.querySelector('.el-vue-amap');\n        const elementID = this.vid || guid();\n        mapElement.id = elementID;\n        this.$amap = this.$amapComponent = new AMap.Map(elementID, this.convertProps());\n        if (this.amapManager) this.amapManager.setMap(this.$amap);\n        this.$emit(CONST.AMAP_READY_EVENT, this.$amap);\n        this.$children.forEach(component => {\n          component.$emit(CONST.AMAP_READY_EVENT, this.$amap);\n        });\n        if (this.plugins && this.plugins.length) {\n          this.addPlugins();\n        }\n      });\n    },\n    $$getCenter() {\n      if (!this.$amap) return lngLatTo(this.center);\n      return lngLatTo(this.$amap.getCenter());\n    }\n  }\n};\n</script>\n\n<style lang=\"less\">\n.el-vue-amap-container {\n  height: 100%;\n.el-vue-amap {\n    height: 100%;\n  }\n}\n</style>\n"],"sourceRoot":""}]}