"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./utils/defer.js"),t=require("./utils/url.js"),r=require("./config.js");const i=e.default();let o=!1,u=!1;const n=i.promise;exports.default=function(){if(!u){if(u=!0,window.AMap)return i.resolve(window.AMap),n;const e=document.createElement("script"),a=`amap_vue_${Date.now()}_${Math.ceil(1e4*Math.random())}`,l=()=>{o||(o=!0,i.resolve(window.AMap))};window[a]=l;const s=t.buildQuery({v:r.default.version,key:r.default.key,callback:a,plugin:r.default.plugins.join(",")}),d=`${r.default._prefix}?${s}`;e.src=d,document.body.appendChild(e)}return n},exports.ready=n;
