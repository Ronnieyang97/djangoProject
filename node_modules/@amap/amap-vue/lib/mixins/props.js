"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../utils/clone.js"),t=require("../utils/amap-helpers.js"),n=require("./events.js");const o={equals:t.theSame,clone:!1};function r(t,n,o,r){const{setter:s}=o;s&&("function"==typeof s?s.call(t,n,r):"string"==typeof s&&(o.clone&&(r=e.default(r)),n[s](r)))}exports.bindProps=function(e,t,o){t||(t=e.$amap.context.target),o||(o=e.$options.props);for(const s in o){const i=o[s],{setter:p}=i;if(!p)continue;const u={deep:!!i.deep};e.$amap.logger.debug("watch",s,u),e.$watch("$props."+s,(n,o)=>{if(!u.deep||u.deep&&n!==o)if("function"==typeof i.equals){if(i.equals(n,o))return}else if(n===o)return;r(e,t,i,n)},u),i.events&&n.bindTwoWayEvent(e,s,i,t)}},exports.defineProp=function(e,t,n){if("string"==typeof e){const r=e,s={...o,setter:r};return t&&(s.type=t),arguments.length>=3&&(s.default=n),s}return{...o,...e}},exports.setPropValue=r;
